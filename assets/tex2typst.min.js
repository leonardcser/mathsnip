var I=new Map([["nonumber",""],["vec","arrow"],["neq","eq.not"],["dot","dot"],["ddot","dot.double"],["doteq","dot(eq)"],["dots","dots.h"],["vdots","dots.v"],["ddots","dots.down"],["widehat","hat"],["widetilde","tilde"],["quad","quad"],["qquad","wide"],["overbrace","overbrace"],["underbrace","underbrace"],["overline","overline"],["underline","underline"],["bar","macron"],["dbinom","binom"],["tbinom","binom"],["dfrac","frac"],["tfrac","frac"],["operatorname","op"],["boldsymbol","bold"],["mathbb","bb"],["mathbf","bold"],["mathcal","cal"],["mathit","italic"],["mathfrak","frak"],["mathrm","upright"],["mathsf","sans"],["mathtt","mono"],["rm","upright"],["pmb","bold"],["pm","plus.minus"],["mp","minus.plus"],["boxplus","plus.square"],["otimes","times.circle"],["boxtimes","times.square"],["approx","approx"],["cong","tilde.equiv"],["simeq","tilde.eq"],["asymp","≍"],["equiv","equiv"],["propto","prop"],["gets","arrow.l"],["hookleftarrow","arrow.l.hook"],["leftharpoonup","harpoon.lt"],["leftharpoondown","harpoon.lb"],["rightleftharpoons","harpoons.rtlb"],["longleftarrow","arrow.l.long"],["longrightarrow","arrow.r.long"],["longleftrightarrow","arrow.l.r.long"],["Longleftarrow","arrow.l.double.long"],["Longrightarrow","arrow.r.double.long"],["Longleftrightarrow","arrow.l.r.double.long"],["hookrightarrow","arrow.r.hook"],["rightharpoonup","harpoon.rt"],["rightharpoondown","harpoon.rb"],["iff","arrow.l.r.double.long"],["implies","arrow.r.double.long"],["uparrow","arrow.t"],["downarrow","arrow.b"],["updownarrow","arrow.t.b"],["Uparrow","arrow.t.double"],["Downarrow","arrow.b.double"],["Updownarrow","arrow.t.b.double"],["nearrow","arrow.tr"],["searrow","arrow.br"],["swarrow","arrow.bl"],["nwarrow","arrow.tl"],["leadsto","arrow.squiggly"],["leftleftarrows","arrows.ll"],["rightrightarrows","arrows.rr"],["Cap","sect.double"],["Cup","union.double"],["Delta","Delta"],["Gamma","Gamma"],["Join","join"],["Lambda","Lambda"],["Leftarrow","arrow.l.double"],["Leftrightarrow","arrow.l.r.double"],["Longrightarrow","arrow.r.double.long"],["Omega","Omega"],["P","pilcrow"],["Phi","Phi"],["Pi","Pi"],["Psi","Psi"],["Rightarrow","arrow.r.double"],["S","section"],["Sigma","Sigma"],["Theta","Theta"],["aleph","alef"],["alpha","alpha"],["angle","angle"],["approx","approx"],["approxeq","approx.eq"],["beta","beta"],["bigcap","sect.big"],["bigcirc","circle.big"],["bigcup","union.big"],["bigodot","dot.circle.big"],["bigotimes","times.circle.big"],["bigsqcup","union.sq.big"],["biguplus","union.plus.big"],["bigvee","or.big"],["bigwedge","and.big"],["bullet","bullet"],["cap","sect"],["cdot","dot.op"],["cdots","dots.c"],["checkmark","checkmark"],["chi","chi"],["circ","circle.small"],["colon","colon"],["cong","tilde.equiv"],["coprod","product.co"],["copyright","copyright"],["cup","union"],["curlyvee","or.curly"],["curlywedge","and.curly"],["dagger","dagger"],["dashv","tack.l"],["ddagger","dagger.double"],["delta","delta"],["ddots","dots.down"],["diamond","diamond"],["div","div"],["divideontimes","times.div"],["dotplus","plus.dot"],["downarrow","arrow.b"],["ell","ell"],["emptyset","nothing"],["epsilon","epsilon.alt"],["equiv","equiv"],["eta","eta"],["exists","exists"],["forall","forall"],["gamma","gamma"],["ge","gt.eq"],["geq","gt.eq"],["geqslant","gt.eq.slant"],["gg","gt.double"],["hbar","planck.reduce"],["imath","dotless.i"],["iiiint","integral.quad"],["iiint","integral.triple"],["iint","integral.double"],["in","in"],["infty","infinity"],["int","integral"],["intercal","top"],["iota","iota"],["jmath","dotless.j"],["kappa","kappa"],["lambda","lambda"],["land","and"],["langle","angle.l"],["lbrace","brace.l"],["lbrack","bracket.l"],["ldots","dots.h"],["le","lt.eq"],["leadsto","arrow.squiggly"],["leftarrow","arrow.l"],["leftthreetimes","times.three.l"],["leftrightarrow","arrow.l.r"],["leq","lt.eq"],["leqslant","lt.eq.slant"],["lhd","triangle.l"],["ll","lt.double"],["lor","or"],["ltimes","times.l"],["measuredangle","angle.arc"],["mid","divides"],["models","models"],["mp","minus.plus"],["mu","mu"],["nabla","nabla"],["ncong","tilde.equiv.not"],["ne","eq.not"],["neg","not"],["neq","eq.not"],["nexists","exists.not"],["ni","in.rev"],["nleftarrow","arrow.l.not"],["nleq","lt.eq.not"],["nparallel","parallel.not"],["ngeq","gt.eq.not"],["nmid","divides.not"],["notin","in.not"],["nsim","tilde.not"],["nsubseteq","subset.eq.not"],["nu","nu"],["ntriangleleft","lt.tri.not"],["ntriangleright","gt.tri.not"],["nwarrow","arrow.tl"],["odot","dot.circle"],["oint","integral.cont"],["oiint","integral.surf"],["oiiint","integral.vol"],["omega","omega"],["ominus","minus.circle"],["otimes","times.circle"],["parallel","parallel"],["partial","diff"],["perp","perp"],["phi","phi.alt"],["pi","pi"],["pm","plus.minus"],["pounds","pound"],["prec","prec"],["preceq","prec.eq"],["prime","prime"],["prod","product"],["propto","prop"],["psi","psi"],["rangle","angle.r"],["rbrace","brace.r"],["rbrack","bracket.r"],["rhd","triangle"],["rho","rho"],["rightarrow","arrow.r"],["rightthreetimes","times.three.r"],["rtimes","times.r"],["setminus","without"],["sigma","sigma"],["sim","tilde.op"],["simeq","tilde.eq"],["slash","slash"],["smallsetminus","without"],["spadesuit","suit.spade"],["sqcap","sect.sq"],["sqcup","union.sq"],["sqsubseteq","subset.eq.sq"],["sqsupseteq","supset.eq.sq"],["subset","subset"],["subseteq","subset.eq"],["subsetneq","subset.neq"],["succ","succ"],["succeq","succ.eq"],["sum","sum"],["supset","supset"],["supseteq","supset.eq"],["supsetneq","supset.neq"],["swarrow","arrow.bl"],["tau","tau"],["theta","theta"],["times","times"],["to","arrow.r"],["top","top"],["triangle","triangle.t"],["twoheadrightarrow","arrow.r.twohead"],["uparrow","arrow.t"],["updownarrow","arrow.t.b"],["upharpoonright","harpoon.tr"],["uplus","union.plus"],["upsilon","upsilon"],["varepsilon","epsilon"],["varnothing","diameter"],["varphi","phi"],["varpi","pi.alt"],["varrho","rho.alt"],["varsigma","sigma.alt"],["vartheta","theta.alt"],["vdash","tack.r"],["vdots","dots.v"],["vee","or"],["wedge","and"],["wr","wreath"],["xi","xi"],["yen","yen"],["zeta","zeta"],["mathscr","scr"],["LaTeX","#LaTeX"],["TeX","#TeX"]]),A2=new Map([["lparen","paren.l"],["lParen","paren.l.double"],["rparen","paren.r"],["rParen","paren.r.double"],["overparen","paren.t"],["underparen","paren.b"],["lbrace","brace.l"],["lBrace","brace.l.double"],["rbrace","brace.r"],["rBrace","brace.r.double"],["underbrace","brace.b"],["lbrack","bracket.l"],["lBrack","bracket.l.double"],["rbrack","bracket.r"],["rBrack","bracket.r.double"],["overbracket","bracket.t"],["underbracket","bracket.b"],["lbrbrak","shell.l"],["Lbrbrak","shell.l.double"],["rbrbrak","shell.r"],["Rbrbrak","shell.r.double"],["obrbrak","shell.t"],["ubrbrak","shell.b"],["vert","bar.v"],["Vert","bar.v.double"],["Vvert","bar.v.triple"],["circledvert","bar.v.circle"],["horizbar","bar.h"],["lvzigzag","fence.l"],["Lvzigzag","fence.l.double"],["rvzigzag","fence.r"],["Rvzigzag","fence.r.double"],["fourvdots","fence.dotted"],["angle","angle"],["langle","angle.l"],["lcurvyangle","angle.l.curly"],["langledot","angle.l.dot"],["rangle","angle.r"],["rcurvyangle","angle.r.curly"],["rangledot","angle.r.dot"],["angdnr","angle.acute"],["measuredangle","angle.arc"],["measuredangleleft","angle.arc.rev"],["wideangledown","angle.oblique"],["revangle","angle.rev"],["rightangle","angle.right"],["measuredrightangle","angle.right.arc"],["rightanglemdot","angle.right.dot"],["rightanglesqr","angle.right.sq"],["angles","angle.s"],["threedangle","angle.spatial"],["sphericalangle","angle.spheric"],["gtlpar","angle.spheric.rev"],["sphericalangleup","angle.spheric.top"],["lceil","ceil.l"],["rceil","ceil.r"],["lfloor","floor.l"],["rfloor","floor.r"],["mathampersand","amp"],["upand","amp.inv"],["ast","ast.op"],["circledast","ast.circle"],["boxast","ast.square"],["mathatsign","at"],["backslash","backslash"],["obslash","backslash.circle"],["rsolbar","backslash.not"],["mathcolon","colon"],["Colon","colon.double"],["coloneq","colon.eq"],["Coloneq","colon.double.eq"],["mathcomma","comma"],["dagger","dagger"],["ddagger","dagger.double"],["dashcolon","dash.colon"],["circleddash","dash.circle"],["hzigzag","dash.wave.double"],["cdot","dot.op"],["mathperiod","dot.basic"],["cdotp","dot.c"],["odot","dot.circle"],["bigodot","dot.circle.big"],["boxdot","dot.square"],["dddot","dot.triple"],["ddddot","dot.quad"],["mathexclam","excl"],["Exclam","excl.double"],["mathquestion","quest"],["Question","quest.double"],["mathoctothorpe","hash"],["mathpercent","percent"],["mathparagraph","pilcrow"],["mathsection","section"],["mathsemicolon","semi"],["mathslash","slash"],["sslash","slash.double"],["trslash","slash.triple"],["xsol","slash.big"],["unicodecdots","dots.h.c"],["unicodeellipsis","dots.h"],["vdots","dots.v"],["ddots","dots.down"],["adots","dots.up"],["sim","tilde.op"],["dotsim","tilde.dot"],["sime","tilde.eq"],["nsimeq","tilde.eq.not"],["backsimeq","tilde.eq.rev"],["cong","tilde.equiv"],["ncong","tilde.equiv.not"],["simneqq","tilde.nequiv"],["nsim","tilde.not"],["backsim","tilde.rev"],["backcong","tilde.rev.equiv"],["approxident","tilde.triple"],["caretinsert","caret"],["prime","prime"],["backprime","prime.rev"],["dprime","prime.double"],["backdprime","prime.double.rev"],["trprime","prime.triple"],["backtrprime","prime.triple.rev"],["qprime","prime.quad"],["mathplus","plus"],["oplus","plus.circle"],["rightarrowonoplus","plus.circle.arrow"],["bigoplus","plus.circle.big"],["dotplus","plus.dot"],["doubleplus","plus.double"],["pm","plus.minus"],["boxplus","plus.square"],["triangleplus","plus.triangle"],["tripleplus","plus.triple"],["minus","minus"],["ominus","minus.circle"],["dotminus","minus.dot"],["mp","minus.plus"],["boxminus","minus.square"],["eqsim","minus.tilde"],["triangleminus","minus.triangle"],["div","div"],["odiv","div.circle"],["times","times"],["bigtimes","times.big"],["otimes","times.circle"],["bigotimes","times.circle.big"],["divideontimes","times.div"],["leftthreetimes","times.three.l"],["rightthreetimes","times.three.r"],["ltimes","times.l"],["rtimes","times.r"],["boxtimes","times.square"],["triangletimes","times.triangle"],["mathratio","ratio"],["equal","eq"],["stareq","eq.star"],["circledequal","eq.circle"],["eqcolon","eq.colon"],["eqdef","eq.def"],["triangleq","eq.delta"],["veeeq","eq.equi"],["wedgeq","eq.est"],["eqgtr","eq.gt"],["eqless","eq.lt"],["measeq","eq.m"],["ne","eq.not"],["curlyeqprec","eq.prec"],["questeq","eq.quest"],["curlyeqsucc","eq.succ"],["equiv","eq.triple"],["Equiv","eq.quad"],["greater","gt"],["ogreaterthan","gt.circle"],["gtrdot","gt.dot"],["gtrapprox","gt.approx"],["gg","gt.double"],["geq","gt.eq"],["geqslant","gt.eq.slant"],["gtreqless","gt.eq.lt"],["ngeq","gt.eq.not"],["geqq","gt.equiv"],["gtrless","gt.lt"],["ngtrless","gt.lt.not"],["gneq","gt.neq"],["gnapprox","gt.napprox"],["gneqq","gt.nequiv"],["ngtr","gt.not"],["gnsim","gt.ntilde"],["gtrsim","gt.tilde"],["ngtrsim","gt.tilde.not"],["vartriangleright","gt.tri"],["trianglerighteq","gt.tri.eq"],["ntrianglerighteq","gt.tri.eq.not"],["nvartriangleright","gt.tri.not"],["ggg","gt.triple"],["gggnest","gt.triple.nested"],["less","lt"],["olessthan","lt.circle"],["lessdot","lt.dot"],["lessapprox","lt.approx"],["ll","lt.double"],["leq","lt.eq"],["leqslant","lt.eq.slant"],["lesseqgtr","lt.eq.gt"],["nleq","lt.eq.not"],["leqq","lt.equiv"],["lessgtr","lt.gt"],["nlessgtr","lt.gt.not"],["lneq","lt.neq"],["lnapprox","lt.napprox"],["lneqq","lt.nequiv"],["nless","lt.not"],["lnsim","lt.ntilde"],["lesssim","lt.tilde"],["nlesssim","lt.tilde.not"],["vartriangleleft","lt.tri"],["trianglelefteq","lt.tri.eq"],["ntrianglelefteq","lt.tri.eq.not"],["nvartriangleleft","lt.tri.not"],["lll","lt.triple"],["lllnest","lt.triple.nested"],["approx","approx"],["approxeq","approx.eq"],["napprox","approx.not"],["prec","prec"],["precapprox","prec.approx"],["preccurlyeq","prec.curly.eq"],["npreccurlyeq","prec.curly.eq.not"],["Prec","prec.double"],["preceq","prec.eq"],["preceqq","prec.equiv"],["precnapprox","prec.napprox"],["precneq","prec.neq"],["precneqq","prec.nequiv"],["nprec","prec.not"],["precnsim","prec.ntilde"],["precsim","prec.tilde"],["succ","succ"],["succapprox","succ.approx"],["succcurlyeq","succ.curly.eq"],["nsucccurlyeq","succ.curly.eq.not"],["Succ","succ.double"],["succeq","succ.eq"],["succeqq","succ.equiv"],["succnapprox","succ.napprox"],["succneq","succ.neq"],["succneqq","succ.nequiv"],["nsucc","succ.not"],["succnsim","succ.ntilde"],["succsim","succ.tilde"],["nequiv","equiv.not"],["propto","prop"],["origof","original"],["imageof","image"],["varnothing","emptyset"],["emptysetoarr","emptyset.arrow.r"],["emptysetoarrl","emptyset.arrow.l"],["emptysetobar","emptyset.bar"],["emptysetocirc","emptyset.circle"],["revemptyset","emptyset.rev"],["setminus","without"],["complement","complement"],["in","in"],["notin","in.not"],["ni","in.rev"],["nni","in.rev.not"],["smallni","in.rev.small"],["smallin","in.small"],["subset","subset"],["subsetdot","subset.dot"],["Subset","subset.double"],["subseteq","subset.eq"],["nsubseteq","subset.eq.not"],["sqsubseteq","subset.eq.sq"],["nsqsubseteq","subset.eq.sq.not"],["subsetneq","subset.neq"],["nsubset","subset.not"],["sqsubset","subset.sq"],["sqsubsetneq","subset.sq.neq"],["supset","supset"],["supsetdot","supset.dot"],["Supset","supset.double"],["supseteq","supset.eq"],["nsupseteq","supset.eq.not"],["sqsupseteq","supset.eq.sq"],["nsqsupseteq","supset.eq.sq.not"],["supsetneq","supset.neq"],["nsupset","supset.not"],["sqsupset","supset.sq"],["sqsupsetneq","supset.sq.neq"],["cup","union"],["cupleftarrow","union.arrow"],["bigcup","union.big"],["cupdot","union.dot"],["bigcupdot","union.dot.big"],["Cup","union.double"],["uminus","union.minus"],["cupvee","union.or"],["uplus","union.plus"],["biguplus","union.plus.big"],["sqcup","union.sq"],["bigsqcup","union.sq.big"],["Sqcup","union.sq.double"],["cap","sect"],["capwedge","sect.and"],["bigcap","sect.big"],["capdot","sect.dot"],["Cap","sect.double"],["sqcap","sect.sq"],["bigsqcap","sect.sq.big"],["Sqcap","sect.sq.double"],["infty","infinity"],["nvinfty","infinity.bar"],["iinfin","infinity.incomplete"],["tieinfty","infinity.tie"],["partial","diff"],["nabla","gradient"],["sum","sum"],["sumint","sum.integral"],["prod","product"],["coprod","product.co"],["int","integral"],["intlarhk","integral.arrow.hook"],["awint","integral.ccw"],["oint","integral.cont"],["ointctrclockwise","integral.cont.ccw"],["varointclockwise","integral.cont.cw"],["intclockwise","integral.cw"],["intbar","integral.dash"],["intBar","integral.dash.double"],["iint","integral.double"],["iiiint","integral.quad"],["intcap","integral.sect"],["fint","integral.slash"],["sqint","integral.square"],["oiint","integral.surf"],["intx","integral.times"],["iiint","integral.triple"],["intcup","integral.union"],["oiiint","integral.vol"],["increment","laplace"],["forall","forall"],["exists","exists"],["nexists","exists.not"],["top","top"],["bot","bot"],["neg","not"],["wedge","and"],["bigwedge","and.big"],["curlywedge","and.curly"],["wedgedot","and.dot"],["Wedge","and.double"],["vee","or"],["bigvee","or.big"],["curlyvee","or.curly"],["veedot","or.dot"],["Vee","or.double"],["models","models"],["Vdash","forces"],["nVdash","forces.not"],["therefore","therefore"],["because","because"],["QED","qed"],["vysmwhtcircle","compose"],["multimap","multimap"],["dualmap","multimap.double"],["tplus","tiny"],["tminus","miny"],["mid","divides"],["nmid","divides.not"],["wr","wreath"],["parallel","parallel"],["nhpar","parallel.struck"],["circledparallel","parallel.circle"],["equalparallel","parallel.eq"],["equivVert","parallel.equiv"],["nparallel","parallel.not"],["eparsl","parallel.slanted.eq"],["smeparsl","parallel.slanted.eq.tilde"],["eqvparsl","parallel.slanted.equiv"],["parsim","parallel.tilde"],["perp","perp"],["operp","perp.circle"],["diameter","diameter"],["Join","join"],["rightouterjoin","join.r"],["leftouterjoin","join.l"],["fullouterjoin","join.l.r"],["smashtimes","smash"],["mathdollar","dollar"],["euro","euro"],["mathsterling","pound"],["mathyen","yen"],["checkmark","checkmark"],["maltese","maltese"],["clubsuit","suit.club.filled"],["varclubsuit","suit.club.stroked"],["vardiamondsuit","suit.diamond.filled"],["diamondsuit","suit.diamond.stroked"],["varheartsuit","suit.heart.filled"],["heartsuit","suit.heart.stroked"],["spadesuit","suit.spade.filled"],["varspadesuit","suit.spade.stroked"],["quarternote","note.quarter.alt"],["eighthnote","note.eighth.alt"],["twonotes","note.eighth.beamed"],["natural","natural"],["flat","flat"],["sharp","sharp"],["smblkcircle","bullet"],["mdlgwhtcircle","circle.stroked"],["mdsmwhtcircle","circle.stroked.small"],["lgwhtcircle","circle.stroked.big"],["mdlgblkcircle","circle.filled"],["mdsmblkcircle","circle.filled.tiny"],["vysmblkcircle","circle.filled.small"],["lgblkcircle","circle.filled.big"],["dottedcircle","circle.dotted"],["circledcirc","circle.nested"],["whthorzoval","ellipse.stroked.h"],["whtvertoval","ellipse.stroked.v"],["blkhorzoval","ellipse.filled.h"],["blkvertoval","ellipse.filled.v"],["bigtriangleup","triangle.stroked.t"],["bigtriangledown","triangle.stroked.b"],["triangleright","triangle.stroked.r"],["triangleleft","triangle.stroked.l"],["lltriangle","triangle.stroked.bl"],["lrtriangle","triangle.stroked.br"],["ultriangle","triangle.stroked.tl"],["urtriangle","triangle.stroked.tr"],["vartriangle","triangle.stroked.small.t"],["triangledown","triangle.stroked.small.b"],["smalltriangleright","triangle.stroked.small.r"],["smalltriangleleft","triangle.stroked.small.l"],["whiteinwhitetriangle","triangle.stroked.nested"],["trianglecdot","triangle.stroked.dot"],["bigblacktriangleup","triangle.filled.t"],["bigblacktriangledown","triangle.filled.b"],["blacktriangleright","triangle.filled.r"],["blacktriangleleft","triangle.filled.l"],["llblacktriangle","triangle.filled.bl"],["lrblacktriangle","triangle.filled.br"],["ulblacktriangle","triangle.filled.tl"],["urblacktriangle","triangle.filled.tr"],["blacktriangle","triangle.filled.small.t"],["blacktriangledown","triangle.filled.small.b"],["smallblacktriangleright","triangle.filled.small.r"],["smallblacktriangleleft","triangle.filled.small.l"],["mdlgwhtsquare","square.stroked"],["smwhtsquare","square.stroked.tiny"],["mdsmwhtsquare","square.stroked.small"],["mdwhtsquare","square.stroked.medium"],["lgwhtsquare","square.stroked.big"],["dottedsquare","square.stroked.dotted"],["squoval","square.stroked.rounded"],["mdlgblksquare","square.filled"],["smblksquare","square.filled.tiny"],["mdsmblksquare","square.filled.small"],["mdblksquare","square.filled.medium"],["lgblksquare","square.filled.big"],["hrectangle","rect.stroked.h"],["vrectangle","rect.stroked.v"],["hrectangleblack","rect.filled.h"],["vrectangleblack","rect.filled.v"],["pentagon","penta.stroked"],["pentagonblack","penta.filled"],["varhexagon","hexa.stroked"],["varhexagonblack","hexa.filled"],["mdlgwhtdiamond","diamond.stroked"],["smwhtdiamond","diamond.stroked.small"],["mdwhtdiamond","diamond.stroked.medium"],["diamondcdot","diamond.stroked.dot"],["mdlgblkdiamond","diamond.filled"],["mdblkdiamond","diamond.filled.medium"],["smblkdiamond","diamond.filled.small"],["mdlgwhtlozenge","lozenge.stroked"],["smwhtlozenge","lozenge.stroked.small"],["mdwhtlozenge","lozenge.stroked.medium"],["mdlgblklozenge","lozenge.filled"],["smblklozenge","lozenge.filled.small"],["mdblklozenge","lozenge.filled.medium"],["parallelogram","parallelogram.stroked"],["parallelogramblack","parallelogram.filled"],["star","star.op"],["bigwhitestar","star.stroked"],["bigstar","star.filled"],["rightarrow","arrow.r"],["longmapsto","arrow.r.long.bar"],["mapsto","arrow.r.bar"],["rightdowncurvedarrow","arrow.r.curve"],["rightdasharrow","arrow.r.dashed"],["rightdotarrow","arrow.r.dotted"],["Rightarrow","arrow.r.double"],["Mapsto","arrow.r.double.bar"],["Longrightarrow","arrow.r.double.long"],["Longmapsto","arrow.r.double.long.bar"],["nRightarrow","arrow.r.double.not"],["hookrightarrow","arrow.r.hook"],["longrightarrow","arrow.r.long"],["longrightsquigarrow","arrow.r.long.squiggly"],["looparrowright","arrow.r.loop"],["nrightarrow","arrow.r.not"],["RRightarrow","arrow.r.quad"],["rightsquigarrow","arrow.r.squiggly"],["rightarrowbar","arrow.r.stop"],["rightwhitearrow","arrow.r.stroked"],["rightarrowtail","arrow.r.tail"],["similarrightarrow","arrow.r.tilde"],["Rrightarrow","arrow.r.triple"],["twoheadmapsto","arrow.r.twohead.bar"],["twoheadrightarrow","arrow.r.twohead"],["rightwavearrow","arrow.r.wave"],["leftarrow","arrow.l"],["mapsfrom","arrow.l.bar"],["leftdowncurvedarrow","arrow.l.curve"],["leftdasharrow","arrow.l.dashed"],["leftdotarrow","arrow.l.dotted"],["Leftarrow","arrow.l.double"],["Mapsfrom","arrow.l.double.bar"],["Longleftarrow","arrow.l.double.long"],["Longmapsfrom","arrow.l.double.long.bar"],["nLeftarrow","arrow.l.double.not"],["hookleftarrow","arrow.l.hook"],["longleftarrow","arrow.l.long"],["longmapsfrom","arrow.l.long.bar"],["longleftsquigarrow","arrow.l.long.squiggly"],["looparrowleft","arrow.l.loop"],["nleftarrow","arrow.l.not"],["LLeftarrow","arrow.l.quad"],["leftsquigarrow","arrow.l.squiggly"],["barleftarrow","arrow.l.stop"],["leftwhitearrow","arrow.l.stroked"],["leftarrowtail","arrow.l.tail"],["similarleftarrow","arrow.l.tilde"],["Lleftarrow","arrow.l.triple"],["twoheadmapsfrom","arrow.l.twohead.bar"],["twoheadleftarrow","arrow.l.twohead"],["leftwavearrow","arrow.l.wave"],["uparrow","arrow.t"],["mapsup","arrow.t.bar"],["uprightcurvearrow","arrow.t.curve"],["updasharrow","arrow.t.dashed"],["Uparrow","arrow.t.double"],["UUparrow","arrow.t.quad"],["baruparrow","arrow.t.stop"],["upwhitearrow","arrow.t.stroked"],["Uuparrow","arrow.t.triple"],["twoheaduparrow","arrow.t.twohead"],["downarrow","arrow.b"],["mapsdown","arrow.b.bar"],["downrightcurvedarrow","arrow.b.curve"],["downdasharrow","arrow.b.dashed"],["Downarrow","arrow.b.double"],["DDownarrow","arrow.b.quad"],["downarrowbar","arrow.b.stop"],["downwhitearrow","arrow.b.stroked"],["Ddownarrow","arrow.b.triple"],["twoheaddownarrow","arrow.b.twohead"],["leftrightarrow","arrow.l.r"],["Leftrightarrow","arrow.l.r.double"],["Longleftrightarrow","arrow.l.r.double.long"],["nLeftrightarrow","arrow.l.r.double.not"],["longleftrightarrow","arrow.l.r.long"],["nleftrightarrow","arrow.l.r.not"],["leftrightsquigarrow","arrow.l.r.wave"],["updownarrow","arrow.t.b"],["Updownarrow","arrow.t.b.double"],["nearrow","arrow.tr"],["Nearrow","arrow.tr.double"],["hknearrow","arrow.tr.hook"],["searrow","arrow.br"],["Searrow","arrow.br.double"],["hksearrow","arrow.br.hook"],["nwarrow","arrow.tl"],["Nwarrow","arrow.tl.double"],["hknwarrow","arrow.tl.hook"],["swarrow","arrow.bl"],["Swarrow","arrow.bl.double"],["hkswarrow","arrow.bl.hook"],["nwsearrow","arrow.tl.br"],["neswarrow","arrow.tr.bl"],["acwopencirclearrow","arrow.ccw"],["curvearrowleft","arrow.ccw.half"],["cwopencirclearrow","arrow.cw"],["curvearrowright","arrow.cw.half"],["downzigzagarrow","arrow.zigzag"],["rightrightarrows","arrows.rr"],["leftleftarrows","arrows.ll"],["upuparrows","arrows.tt"],["downdownarrows","arrows.bb"],["leftrightarrows","arrows.lr"],["barleftarrowrightarrowbar","arrows.lr.stop"],["rightleftarrows","arrows.rl"],["updownarrows","arrows.tb"],["downuparrows","arrows.bt"],["rightthreearrows","arrows.rrr"],["leftthreearrows","arrows.lll"],["rightharpoonup","harpoon.rt"],["barrightharpoonup","harpoon.rt.bar"],["rightharpoonupbar","harpoon.rt.stop"],["rightharpoondown","harpoon.rb"],["barrightharpoondown","harpoon.rb.bar"],["rightharpoondownbar","harpoon.rb.stop"],["leftharpoonup","harpoon.lt"],["leftharpoonupbar","harpoon.lt.bar"],["barleftharpoonup","harpoon.lt.stop"],["leftharpoondown","harpoon.lb"],["leftharpoondownbar","harpoon.lb.bar"],["barleftharpoondown","harpoon.lb.stop"],["upharpoonleft","harpoon.tl"],["upharpoonleftbar","harpoon.tl.bar"],["barupharpoonleft","harpoon.tl.stop"],["upharpoonright","harpoon.tr"],["upharpoonrightbar","harpoon.tr.bar"],["barupharpoonright","harpoon.tr.stop"],["downharpoonleft","harpoon.bl"],["bardownharpoonleft","harpoon.bl.bar"],["downharpoonleftbar","harpoon.bl.stop"],["downharpoonright","harpoon.br"],["bardownharpoonright","harpoon.br.bar"],["downharpoonrightbar","harpoon.br.stop"],["leftrightharpoonupup","harpoon.lt.rt"],["leftrightharpoondowndown","harpoon.lb.rb"],["leftrightharpoondownup","harpoon.lb.rt"],["leftrightharpoonupdown","harpoon.lt.rb"],["updownharpoonleftleft","harpoon.tl.bl"],["updownharpoonrightright","harpoon.tr.br"],["updownharpoonleftright","harpoon.tl.br"],["updownharpoonrightleft","harpoon.tr.bl"],["rightharpoonsupdown","harpoons.rtrb"],["downharpoonsleftright","harpoons.blbr"],["downupharpoonsleftright","harpoons.bltr"],["leftrightharpoonsdown","harpoons.lbrb"],["leftharpoonsupdown","harpoons.ltlb"],["leftrightharpoons","harpoons.ltrb"],["leftrightharpoonsup","harpoons.ltrt"],["rightleftharpoonsdown","harpoons.rblb"],["rightleftharpoons","harpoons.rtlb"],["rightleftharpoonsup","harpoons.rtlt"],["updownharpoonsleftright","harpoons.tlbr"],["upharpoonsleftright","harpoons.tltr"],["vdash","tack.r"],["nvdash","tack.r.not"],["vlongdash","tack.r.long"],["assert","tack.r.short"],["vDash","tack.r.double"],["nvDash","tack.r.double.not"],["dashv","tack.l"],["longdashv","tack.l.long"],["shortlefttack","tack.l.short"],["Dashv","tack.l.double"],["bigbot","tack.t.big"],["Vbar","tack.t.double"],["shortuptack","tack.t.short"],["bigtop","tack.b.big"],["barV","tack.b.double"],["shortdowntack","tack.b.short"],["dashVdash","tack.l.r"],["BbbA","AA"],["BbbB","BB"],["BbbC","CC"],["BbbD","DD"],["BbbE","EE"],["BbbF","FF"],["BbbG","GG"],["BbbH","HH"],["BbbI","II"],["BbbJ","JJ"],["BbbK","KK"],["BbbL","LL"],["BbbM","MM"],["BbbN","NN"],["BbbO","OO"],["BbbP","PP"],["BbbQ","QQ"],["BbbR","RR"],["BbbS","SS"],["BbbT","TT"],["BbbU","UU"],["BbbV","VV"],["BbbW","WW"],["BbbX","XX"],["BbbY","YY"],["BbbZ","ZZ"],["ell","ell"],["Planckconst","planck"],["hslash","planck.reduce"],["Angstrom","angstrom"],["Re","Re"],["Im","Im"],["imath","dotless.i"],["jmath","dotless.j"]]);for(let[q,J]of A2)if(!I.has(q))I.set(q,J);var w=new Map;for(let[q,J]of Array.from(I.entries()).reverse())w.set(J,q);w.set("dif","mathrm{d}");var I2=new Map([["top","top"],["frac","frac"],["tilde","tilde"],["hat","hat"],["upright","mathrm"],["bold","boldsymbol"],["hyph.minus","\\text{-}"]]);for(let[q,J]of I2)w.set(q,J);function a(q,J,z=0){for(let V=z;V<q.length;V++)if(q[V].eq(J))return V;return-1}function m(q,J){for(let z of q)if(z.eq(J))return!0;return!1}function k(q,J){let z=[],V=[];for(let Z of q)if(Z.eq(J))z.push(V),V=[];else V.push(Z);return z.push(V),z}class W{type;value;constructor(q,J){this.type=q,this.value=J}eq(q){return this.type===q.type&&this.value===q.value}toString(){switch(this.type){case 2:return`\\text{${this.value}}`;case 3:return`%${this.value}`;default:return this.value}}}function M2(q){if(["{","}","%"].includes(q))return"\\"+q;return q}class Q{type;content;args;data;constructor(q,J,z,V){this.type=q,this.content=J,this.args=z,this.data=V}eq(q){return this.type===q.type&&this.content===q.content}toString(){switch(this.type){case"text":return`\\text{${this.content}}`;default:throw new Error(`toString() is not implemented for type ${this.type}`)}}serialize(){switch(this.type){case"empty":return[];case"element":{let q=this.content;return q=M2(q),[new W(0,q)]}case"symbol":return[new W(1,this.content)];case"text":return[new W(2,this.content)];case"comment":return[new W(3,this.content)];case"whitespace":{let q=[];for(let J of this.content){let z=J===" "?4:5;q.push(new W(z,J))}return q}case"ordgroup":{let q=this.args.map((J)=>J.serialize()).flat();if(this.content==="parenthesis"){let J=this.isOverHigh(),z=J?"\\left(":"(",V=J?"\\right)":")";q.unshift(new W(0,z)),q.push(new W(0,V))}return q}case"unaryFunc":{let q=[];if(q.push(new W(1,this.content)),this.content==="\\sqrt"&&this.data)q.push(new W(0,"[")),q=q.concat(this.data.serialize()),q.push(new W(0,"]"));if(this.content==="\\operatorname"&&this.args.length===1&&this.args[0].type==="text"){let J=this.args[0].content;return q.push(new W(0,"{")),q.push(new W(1,J)),q.push(new W(0,"}")),q}return q.push(new W(0,"{")),q=q.concat(this.args[0].serialize()),q.push(new W(0,"}")),q}case"binaryFunc":{let q=[];return q.push(new W(1,this.content)),q.push(new W(0,"{")),q=q.concat(this.args[0].serialize()),q.push(new W(0,"}")),q.push(new W(0,"{")),q=q.concat(this.args[1].serialize()),q.push(new W(0,"}")),q}case"supsub":{let Z=function(X){if(X.type==="ordgroup"||X.type==="supsub"||X.type==="empty")return!0;else if(X.type==="element"&&/\d+(\.\d+)?/.test(X.content)&&X.content.length>1)return!0;else return!1},q=[],{base:J,sup:z,sub:V}=this.data;if(q=q.concat(J.serialize()),V)if(q.push(new W(6,"_")),Z(V))q.push(new W(0,"{")),q=q.concat(V.serialize()),q.push(new W(0,"}"));else q=q.concat(V.serialize());if(z)if(q.push(new W(6,"^")),Z(z))q.push(new W(0,"{")),q=q.concat(z.serialize()),q.push(new W(0,"}"));else q=q.concat(z.serialize());return q}case"control":return[new W(6,this.content)];case"beginend":{let q=[],J=this.data;q.push(new W(1,`\\begin{${this.content}}`)),q.push(new W(5,`
`));for(let z=0;z<J.length;z++){let V=J[z];for(let Z=0;Z<V.length;Z++){let X=V[Z];if(q=q.concat(X.serialize()),Z!==V.length-1)q.push(new W(6,"&"))}if(z!==J.length-1)q.push(new W(6,"\\\\"))}return q.push(new W(5,`
`)),q.push(new W(1,`\\end{${this.content}}`)),q}default:throw new Error("[TexNode.serialize] Unimplemented type: "+this.type)}}isOverHigh(){switch(this.type){case"element":case"symbol":case"text":case"control":case"empty":return!1;case"binaryFunc":if(this.content==="\\frac")return!0;case"unaryFunc":case"ordgroup":return this.args.some((q)=>q.isOverHigh());case"supsub":return this.data.base.isOverHigh();case"beginend":return!0;default:return!1}}}class G{type;value;constructor(q,J){this.type=q,this.value=J}eq(q){return this.type===q.type&&this.value===q.value}isOneOf(q){return m(q,this)}toNode(){switch(this.type){case 2:return new j("text",this.value);case 3:return new j("comment",this.value);case 4:case 7:return new j("whitespace",this.value);case 1:return new j("atom",this.value);case 0:return new j("symbol",this.value);case 6:{let q=this.value;switch(q){case"":case"_":case"^":return new j("empty","");case"&":return new j("control","&");case"\\":return new j("control","\\");default:throw new Error(`Unexpected control character ${q}`)}}default:throw new Error(`Unexpected token type ${this.type}`)}}toString(){switch(this.type){case 2:return`"${this.value}"`;case 3:return`//${this.value}`;default:return this.value}}}class j{type;content;args;data;options;constructor(q,J,z,V){this.type=q,this.content=J,this.args=z,this.data=V}setOptions(q){this.options=q}eq(q){return this.type===q.type&&this.content===q.content}}function S(q){return"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".includes(q)}function C(q){return"0123456789".includes(q)}function Y(q,J=""){if(!q)throw new Error(J)}var v2=["sqrt","text","bar","bold","boldsymbol","ddot","dot","hat","mathbb","mathbf","mathcal","mathfrak","mathit","mathrm","mathscr","mathsf","mathtt","operatorname","overbrace","overline","pmb","rm","tilde","underbrace","underline","vec","widehat","widetilde"],R2=["frac","tfrac","binom","dbinom","dfrac","tbinom","overset"],T=new Q("empty","");function S2(q){if(v2.includes(q))return 1;else if(R2.includes(q))return 2;else return 0}var c=new W(6,"{"),l=new W(6,"}"),z2=new W(0,"["),C2=new W(0,"]");function p(q,J){let z=J;while(z<q.length&&[4,5].includes(q[z].type))z++;return q.slice(J,z)}function J2(q,J){let z=q[J];if(z.type===0&&["(",")","[","]","|","\\{","\\}","."].includes(z.value))return z;else if(z.type===1&&["lfloor","rfloor","lceil","rceil","langle","rangle"].includes(z.value.slice(1)))return z;else return null}function E(q,J){let z=J;while(z<q.length&&q[z].eq(new W(0,"'")))z+=1;return z-J}function b2(q,J){let z=J;while(z<q.length&&S(q[z]))z+=1;return q.substring(J,z)}function i(q,J,z,V){Y(q[J].eq(z));let Z=1,X=J+1;while(Z>0){if(X>=q.length)return-1;if(q[X].eq(z))Z+=1;else if(q[X].eq(V))Z-=1;X+=1}return X-1}var r=new W(1,"\\left"),L2=new W(1,"\\right");function w2(q,J){return i(q,J,r,L2)}var n=new W(1,"\\begin"),h2=new W(1,"\\end");function g2(q,J){return i(q,J,n,h2)}function E2(q,J){Y(q[J]==="{");let z=1,V=J+1;while(z>0){if(V>=q.length)throw new F("Unmatched curly brackets");if(V+1<q.length&&["\\{","\\}"].includes(q.substring(V,V+2))){V+=2;continue}if(q[V]==="{")z+=1;else if(q[V]==="}")z-=1;V+=1}return V-1}function V2(q){let J=[],z=0;while(z<q.length){let V=q[z],Z;switch(V){case"%":{let X=z+1;while(X<q.length&&q[X]!==`
`)X+=1;Z=new W(3,q.slice(z+1,X)),z=X;break}case"{":case"}":case"_":case"^":case"&":Z=new W(6,V),z++;break;case`
`:Z=new W(5,V),z++;break;case"\r":{if(z+1<q.length&&q[z+1]===`
`)Z=new W(5,`
`),z+=2;else Z=new W(5,`
`),z++;break}case" ":{let X=z;while(X<q.length&&q[X]===" ")X+=1;Z=new W(4,q.slice(z,X)),z=X;break}case"\\":{if(z+1>=q.length)throw new F("Expecting command name after \\");let X=q.slice(z,z+2);if(["\\\\","\\,"].includes(X))Z=new W(6,X);else if(["\\{","\\}","\\%","\\$","\\&","\\#","\\_","\\|"].includes(X))Z=new W(0,X);else{let $=b2(q,z+1);Z=new W(1,"\\"+$)}z+=Z.value.length;break}default:{if(C(V)){let X=z;while(X<q.length&&C(q[X]))X+=1;Z=new W(0,q.slice(z,X))}else if(S(V))Z=new W(0,V);else if("+-*/='<>!.,;:?()[]|".includes(V))Z=new W(0,V);else Z=new W(7,V);z+=Z.value.length}}if(J.push(Z),Z.type===1&&["\\text","\\operatorname","\\begin","\\end"].includes(Z.value)){if(z>=q.length||q[z]!=="{")throw new F(`No content for ${Z.value} command`);J.push(new W(6,"{"));let X=E2(q,z);z++;let $=q.slice(z,X),K=["{","}","\\","$","&","#","_","%"];for(let D of K)$=$.replaceAll("\\"+D,D);J.push(new W(2,$)),J.push(new W(6,"}")),z=X+1}}return J}class F extends Error{constructor(q){super(q);this.name="LatexParserError"}}var s=new W(6,"_"),t=new W(6,"^");class X2{space_sensitive;newline_sensitive;constructor(q=!1,J=!0){this.space_sensitive=q,this.newline_sensitive=J}parse(q){let J=[],z=0;while(z<q.length){let V=[],Z=0;while(Z<q.length){let[X,$]=this.parseNextExpr(q,Z);if(Z=$,X.type==="whitespace"){if(!this.space_sensitive&&X.content.replace(/ /g,"").length===0)continue;if(!this.newline_sensitive&&X.content===`
`)continue}if(X.type==="control"&&X.content==="&")throw new F("Unexpected & outside of an alignment");V.push(X)}if(V.length===0)return T;else if(V.length===1)return V[0];else return new Q("ordgroup","",V)}if(J.length===0)return T;else if(J.length===1)return J[0];else return new Q("ordgroup","",J)}parseNextExpr(q,J){let[z,V]=this.parseNextExprWithoutSupSub(q,J),Z=null,X=null,$=0;if($+=E(q,V),V+=$,V<q.length&&q[V].eq(s)){if([Z,V]=this.parseNextExprWithoutSupSub(q,V+1),$+=E(q,V),V+=$,V<q.length&&q[V].eq(t)){if([X,V]=this.parseNextExprWithoutSupSub(q,V+1),E(q,V)>0)throw new F("Double superscript")}}else if(V<q.length&&q[V].eq(t)){if([X,V]=this.parseNextExprWithoutSupSub(q,V+1),E(q,V)>0)throw new F("Double superscript");if(V<q.length&&q[V].eq(s)){if([Z,V]=this.parseNextExprWithoutSupSub(q,V+1),E(q,V)>0)throw new F("Double superscript")}}if(Z!==null||X!==null||$>0){let K={base:z};if(Z)K.sub=Z;if($>0){K.sup=new Q("ordgroup","",[]);for(let D=0;D<$;D++)K.sup.args.push(new Q("element","'"));if(X)K.sup.args.push(X);if(K.sup.args.length===1)K.sup=K.sup.args[0]}else if(X)K.sup=X;return[new Q("supsub","",[],K),V]}else return[z,V]}parseNextExprWithoutSupSub(q,J){let z=q[J];switch(z.type){case 0:return[new Q("element",z.value),J+1];case 2:return[new Q("text",z.value),J+1];case 3:return[new Q("comment",z.value),J+1];case 4:case 5:return[new Q("whitespace",z.value),J+1];case 1:if(z.eq(n))return this.parseBeginEndExpr(q,J);else if(z.eq(r))return this.parseLeftRightExpr(q,J);else return this.parseCommandExpr(q,J);case 6:switch(z.value){case"{":let X=i(q,J,c,l);if(X===-1)throw new F("Unmatched '{'");let $=q.slice(J+1,X);return[this.parse($),X+1];case"}":throw new F("Unmatched '}'");case"\\\\":return[new Q("control","\\\\"),J+1];case"\\,":return[new Q("control","\\,"),J+1];case"_":case"^":return[T,J];case"&":return[new Q("control","&"),J+1];default:throw new F("Unknown control sequence")}default:throw new F("Unknown token type")}}parseCommandExpr(q,J){Y(q[J].type===1);let z=q[J].value,V=J+1;if(["left","right","begin","end"].includes(z.slice(1)))throw new F("Unexpected command: "+z);switch(S2(z.slice(1))){case 0:if(!I.has(z.slice(1)))return[new Q("unknownMacro",z),V];return[new Q("symbol",z),V];case 1:{if(V>=q.length)throw new F("Expecting argument for "+z);if(z==="\\sqrt"&&V<q.length&&q[V].eq(z2)){let K=V,D=i(q,V,z2,C2);if(D===-1)throw new F("No matching right square bracket for [");let O=q.slice(K+1,D),U=this.parse(O),[L,v]=this.parseNextExprWithoutSupSub(q,D+1);return[new Q("unaryFunc",z,[L],U),v]}else if(z==="\\text"){if(V+2>=q.length)throw new F("Expecting content for \\text command");Y(q[V].eq(c)),Y(q[V+1].type===2),Y(q[V+2].eq(l));let K=q[V+1].value;return[new Q("text",K),V+3]}let[X,$]=this.parseNextExprWithoutSupSub(q,V);return[new Q("unaryFunc",z,[X]),$]}case 2:{let[X,$]=this.parseNextExprWithoutSupSub(q,V),[K,D]=this.parseNextExprWithoutSupSub(q,$);return[new Q("binaryFunc",z,[X,K]),D]}default:throw new Error("Invalid number of parameters")}}parseLeftRightExpr(q,J){Y(q[J].eq(r));let z=J+1;if(z+=p(q,z).length,z>=q.length)throw new F("Expecting delimiter after \\left");let V=J2(q,z);if(V===null)throw new F("Invalid delimiter after \\left");z++;let Z=z,X=w2(q,J);if(X===-1)throw new F("No matching \\right");let $=X;if(z=X+1,z+=p(q,z).length,z>=q.length)throw new F("Expecting \\right after \\left");let K=J2(q,z);if(K===null)throw new F("Invalid delimiter after \\right");z++;let D=q.slice(Z,$),O=this.parse(D),U=[new Q("element",V.value),O,new Q("element",K.value)];return[new Q("leftright","",U),z]}parseBeginEndExpr(q,J){Y(q[J].eq(n));let z=J+1;Y(q[z].eq(c)),Y(q[z+1].type===2),Y(q[z+2].eq(l));let V=q[z+1].value;z+=3,z+=p(q,z).length;let Z=z,X=g2(q,J);if(X===-1)throw new F("No matching \\end");let $=X;if(z=X+1,Y(q[z].eq(c)),Y(q[z+1].type===2),Y(q[z+2].eq(l)),q[z+1].value!==V)throw new F("Mismatched \\begin and \\end environments");z+=3;let K=q.slice(Z,$);while(K.length>0&&[4,5].includes(K[K.length-1].type))K.pop();let D=this.parseAligned(K);return[new Q("beginend",V,[],D),z]}parseAligned(q){let J=0,z=[],V=[];z.push(V);let Z=new Q("ordgroup","",[]);V.push(Z);while(J<q.length){let[X,$]=this.parseNextExpr(q,J);if(J=$,X.type==="whitespace"){if(!this.space_sensitive&&X.content.replace(/ /g,"").length===0)continue;if(!this.newline_sensitive&&X.content===`
`)continue}if(X.type==="control"&&X.content==="\\\\")V=[],Z=new Q("ordgroup","",[]),V.push(Z),z.push(V);else if(X.type==="control"&&X.content==="&")Z=new Q("ordgroup","",[]),V.push(Z);else Z.args.push(X)}return z}}function P2(q){let J=(V)=>V.eq(s)||V.eq(t),z=[];for(let V=0;V<q.length;V++){if(q[V].type===4&&V+1<q.length&&J(q[V+1]))continue;if(q[V].type===4&&V-1>=0&&J(q[V-1]))continue;z.push(q[V])}return z}function u2(q,J){let z=[];for(let V of q)if(V.type===1&&J[V.value]){let Z=V2(J[V.value]);z=z.concat(Z)}else z.push(V);return z}function Z2(q,J){let z=new X2,V=V2(q);return V=P2(V),V=u2(V,J),z.parse(V)}var Q2=["dim","id","im","mod","Pr","sech","csch"];function $2(q){return q.type==="atom"&&["(",")","[","]","{","}","|","⌊","⌋","⌈","⌉"].includes(q.content)}var P=new G(1,"("),h=new G(1,")"),m2=new G(1,","),c2=new G(0,`
`);class f extends Error{node;constructor(q,J){super(q);this.name="TypstWriterError",this.node=J}}class o{nonStrict;preferTypstIntrinsic;keepSpaces;buffer="";queue=[];insideFunctionDepth=0;constructor(q,J,z){this.nonStrict=q,this.preferTypstIntrinsic=J,this.keepSpaces=z}writeBuffer(q){let J=q.toString();if(J==="")return;let z=!1;if(z||=/[\(\[\|]$/.test(this.buffer)&&/^\w/.test(J),z||=/^[})\]\|]$/.test(J),z||=/[^=]$/.test(this.buffer)&&J==="(",z||=/^[_^,;!]$/.test(J),z||=J==="'",z||=/[0-9]$/.test(this.buffer)&&/^[0-9]/.test(J),z||=/[\(\[{]\s*(-|\+)$/.test(this.buffer)||this.buffer==="-"||this.buffer==="+",z||=J.startsWith(`
`),z||=this.buffer==="",z||=/^\s/.test(J),z||=this.buffer.endsWith("&")&&J==="=",z||=this.buffer.endsWith("/")||J==="/",z||=/[\s_^{\(]$/.test(this.buffer),!z)this.buffer+=" ";this.buffer+=J}serialize(q){switch(q.type){case"empty":break;case"atom":{if(q.content===","&&this.insideFunctionDepth>0)this.queue.push(new G(0,"comma"));else this.queue.push(new G(1,q.content));break}case"symbol":this.queue.push(new G(0,q.content));break;case"text":this.queue.push(new G(2,q.content));break;case"comment":this.queue.push(new G(3,q.content));break;case"whitespace":for(let J of q.content)if(J===" "){if(this.keepSpaces)this.queue.push(new G(4,J))}else if(J===`
`)this.queue.push(new G(0,J));else throw new f(`Unexpected whitespace character: ${J}`,q);break;case"group":for(let J of q.args)this.serialize(J);break;case"supsub":{let{base:J,sup:z,sub:V}=q.data;this.appendWithBracketsIfNeeded(J);let Z=!1,X=z&&z.type==="atom"&&z.content==="'";if(X)this.queue.push(new G(1,"'")),Z=!1;if(V)this.queue.push(new G(1,"_")),Z=this.appendWithBracketsIfNeeded(V);if(z&&!X)this.queue.push(new G(1,"^")),Z=this.appendWithBracketsIfNeeded(z);if(Z)this.queue.push(new G(6," "));break}case"funcCall":{let J=new G(0,q.content);this.queue.push(J),this.insideFunctionDepth++,this.queue.push(P);for(let z=0;z<q.args.length;z++)if(this.serialize(q.args[z]),z<q.args.length-1)this.queue.push(new G(1,","));if(q.options)for(let[z,V]of Object.entries(q.options))this.queue.push(new G(0,`, ${z}: ${V}`));this.queue.push(h),this.insideFunctionDepth--;break}case"fraction":{let[J,z]=q.args;if(J.type==="group")this.queue.push(P),this.serialize(J),this.queue.push(h);else this.serialize(J);if(this.queue.push(new G(1,"/")),z.type==="group")this.queue.push(P),this.serialize(z),this.queue.push(h);else this.serialize(z);break}case"align":{let J=q.data;J.forEach((z,V)=>{if(z.forEach((Z,X)=>{if(X>0)this.queue.push(new G(1,"&"));this.serialize(Z)}),V<J.length-1)this.queue.push(new G(0,"\\"))});break}case"matrix":{let J=q.data;if(this.queue.push(new G(0,"mat")),this.insideFunctionDepth++,this.queue.push(P),q.options)for(let[z,V]of Object.entries(q.options))this.queue.push(new G(0,`${z}: ${V}, `));J.forEach((z,V)=>{z.forEach((Z,X)=>{if(this.serialize(Z),X<z.length-1)this.queue.push(new G(1,","));else if(V<J.length-1)this.queue.push(new G(1,";"))})}),this.queue.push(h),this.insideFunctionDepth--;break}case"unknown":{if(this.nonStrict)this.queue.push(new G(0,q.content));else throw new f(`Unknown macro: ${q.content}`,q);break}default:throw new f(`Unimplemented node type to append: ${q.type}`,q)}}appendWithBracketsIfNeeded(q){let J=["group","supsub","empty"].includes(q.type);if(q.type==="group"){let z=q.args[0],V=q.args[q.args.length-1];if($2(z)&&$2(V))J=!1}if(J)this.queue.push(P),this.serialize(q),this.queue.push(h);else this.serialize(q);return!J}flushQueue(){let q=new G(6," ");for(let J=0;J<this.queue.length;J++)if(this.queue[J].eq(q)){if(J===this.queue.length-1)this.queue[J].value="";else if(this.queue[J+1].isOneOf([h,m2,c2]))this.queue[J].value=""}this.queue.forEach((J)=>{this.writeBuffer(J)}),this.queue=[]}finalize(){this.flushQueue();let V=[function(Z){let X=Z.replace(/floor\.l\s*(.*?)\s*floor\.r/g,"floor($1)");return X=X.replace(/floor\(\)/g,'floor("")'),X},function(Z){let X=Z.replace(/ceil\.l\s*(.*?)\s*ceil\.r/g,"ceil($1)");return X=X.replace(/ceil\(\)/g,'ceil("")'),X},function(Z){let X=Z.replace(/floor\.l\s*(.*?)\s*ceil\.r/g,"round($1)");return X=X.replace(/round\(\)/g,'round("")'),X}];for(let Z of V)this.buffer=Z(this.buffer);return this.buffer}}function u(q){if(/^[a-zA-Z0-9]$/.test(q))return q;else if(q==="/")return"\\/";else if(q==="\\|")return"parallel";else if(q==="\\\\")return"\\";else if(["\\$","\\#","\\&","\\_"].includes(q))return q;else if(q.startsWith("\\")){let J=q.slice(1);if(I.has(J))return I.get(J);else return J}return q}function l2(q,J){let[z,V]=q.args,Z=(K)=>{if(K.eq(new Q("text","def")))return!0;if(K.type==="ordgroup"&&K.args.length===3){let[D,O,U]=K.args,L=new Q("element","d"),v=new Q("element","e"),g=new Q("element","f");if(D.eq(L)&&O.eq(v)&&U.eq(g))return!0}return!1},X=(K)=>K.eq(new Q("element","="));if(Z(z)&&X(V))return new j("symbol","eq.def");let $=new j("funcCall","op",[H(V,J)]);return $.setOptions({limits:"#true"}),new j("supsub","",[],{base:$,sup:H(z,J)})}function H(q,J={}){switch(q.type){case"empty":return new j("empty","");case"whitespace":return new j("whitespace",q.content);case"ordgroup":return new j("group","",q.args.map((z)=>H(z,J)));case"element":return new j("atom",u(q.content));case"symbol":return new j("symbol",u(q.content));case"text":return new j("text",q.content);case"comment":return new j("comment",q.content);case"supsub":{let{base:z,sup:V,sub:Z}=q.data;if(z&&z.type==="unaryFunc"&&z.content==="\\overbrace"&&V)return new j("funcCall","overbrace",[H(z.args[0],J),H(V,J)]);else if(z&&z.type==="unaryFunc"&&z.content==="\\underbrace"&&Z)return new j("funcCall","underbrace",[H(z.args[0],J),H(Z,J)]);let X={base:H(z,J)};if(X.base.type==="empty")X.base=new j("text","");if(V)X.sup=H(V,J);if(Z)X.sub=H(Z,J);return new j("supsub","",[],X)}case"leftright":{let[z,V,Z]=q.args,X=new j("group","",q.args.map(($)=>H($,J)));if(["[]","()","\\{\\}","\\lfloor\\rfloor","\\lceil\\rceil","\\lfloor\\rceil"].includes(z.content+Z.content))return X;if(Z.content===".")return X.args.pop(),X;else if(z.content===".")return X.args.shift(),new j("funcCall","lr",[X]);return new j("funcCall","lr",[X])}case"binaryFunc":{if(q.content==="\\overset")return l2(q,J);if(q.content==="\\frac"){if(J.fracToSlash)return new j("fraction","",q.args.map((z)=>H(z,J)))}return new j("funcCall",u(q.content),q.args.map((z)=>H(z,J)))}case"unaryFunc":{let z=H(q.args[0],J);if(q.content==="\\sqrt"&&q.data){let V=H(q.data,J);return new j("funcCall","root",[V,z])}if(q.content==="\\mathbf"){let V=new j("funcCall","bold",[z]);return new j("funcCall","upright",[V])}if(q.content==="\\mathbb"&&z.type==="atom"&&/^[A-Z]$/.test(z.content))return new j("symbol",z.content+z.content);if(q.content==="\\operatorname"){let V=q.args;if(V.length!==1||V[0].type!=="text")throw new f("Expecting body of \\operatorname to be text but got",q);let Z=V[0].content;if(Q2.includes(Z))return new j("symbol",Z);else return new j("funcCall","op",[new j("text",Z)])}return new j("funcCall",u(q.content),q.args.map((V)=>H(V,J)))}case"beginend":{let V=q.data.map((Z)=>Z.map((X)=>H(X,J)));if(q.content.startsWith("align"))return new j("align","",[],V);else{let Z=new j("matrix","",[],V);return Z.setOptions({delim:"#none"}),Z}}case"unknownMacro":return new j("unknown",u(q.content));case"control":if(q.content==="\\\\")return new j("symbol","\\");else if(q.content==="\\,")return new j("symbol","thin");else throw new f(`Unknown control sequence: ${q.content}`,q);default:throw new f(`Unimplemented node type: ${q.type}`,q)}}var i2=["sqrt","bold","arrow","upright","lr","op","macron","dot","dot.double","hat","tilde","overline","underline","bb","cal","frak"],x2=["frac","root","overbrace","underbrace"];function j2(q){if(["{","}","%"].includes(q))return"\\"+q;return q}function x(q){if(/^[a-zA-Z0-9]$/.test(q))return q;else if(q==="thin")return"\\,";else if(w.has(q))return"\\"+w.get(q);return"\\"+q}function B(q){if(q.eq(new j("symbol","eq.def")))return new Q("binaryFunc","\\overset",[new Q("text","def"),new Q("element","=")]);switch(q.type){case"empty":return new Q("empty","");case"whitespace":return new Q("whitespace",q.content);case"atom":return new Q("element",q.content);case"symbol":switch(q.content){case"comma":return new Q("element",",");case"hyph":case"hyph.minus":return new Q("text","-");default:return new Q("symbol",x(q.content))}case"text":return new Q("text",q.content);case"comment":return new Q("comment",q.content);case"group":{let J=q.args.map(B);return new Q("ordgroup",q.content,J)}case"funcCall":if(i2.includes(q.content)){if(q.content==="lr"){let z=q.args[0];if(z.type==="group"){let V=z.args[0].content,Z=z.args[z.args.length-1].content;return V=j2(V),Z=j2(Z),new Q("ordgroup","",[new Q("element","\\left"+V),...z.args.slice(1,z.args.length-1).map(B),new Q("element","\\right"+Z)])}}let J=x(q.content);return new Q("unaryFunc",J,q.args.map(B))}else if(x2.includes(q.content)){if(q.content==="root"){let[z,V]=q.args,Z=B(z);return new Q("unaryFunc","\\sqrt",[B(V)],Z)}if(q.content==="overbrace"||q.content==="underbrace"){let[z,V]=q.args,Z=new Q("unaryFunc","\\"+q.content,[B(z)]),X=B(V),$=q.content==="overbrace"?{base:Z,sup:X}:{base:Z,sub:X};return new Q("supsub","",[],$)}let J=x(q.content);return new Q("binaryFunc",J,q.args.map(B))}else return new Q("ordgroup","",[new Q("symbol",x(q.content)),new Q("element","("),...q.args.map(B),new Q("element",")")]);case"supsub":{let{base:J,sup:z,sub:V}=q.data,Z=B(J),X,$;if(z)X=B(z);if(V)$=B(V);return new Q("supsub","",[],{base:Z,sup:X,sub:$})}case"matrix":{let z=q.data.map(($)=>$.map(B)),V=new Q("beginend","matrix",[],z),Z="\\left(",X="\\right)";if(q.options){if("delim"in q.options)switch(q.options.delim){case"#none":return V;case"[":Z="\\left[",X="\\right]";break;case"]":Z="\\left]",X="\\right[";break;case"{":Z="\\left\\{",X="\\right\\}";break;case"}":Z="\\left\\}",X="\\right\\{";break;case"|":Z="\\left|",X="\\right|";break;case")":Z="\\left)",X="\\right(";case"(":default:Z="\\left(",X="\\right)";break}}return new Q("ordgroup","",[new Q("element",Z),V,new Q("element",X)])}case"control":switch(q.content){case"\\":return new Q("control","\\\\");case"&":return new Q("control","&");default:throw new Error("[convert_typst_node_to_tex] Unimplemented control: "+q.content)}case"fraction":{let[J,z]=q.args,V=B(J),Z=B(z);return new Q("binaryFunc","\\frac",[V,Z])}default:throw new Error("[convert_typst_node_to_tex] Unimplemented type: "+q.type)}}function W2(q,J){let z=J;while(z<q.length&&q[z].eq(new G(1,"'")))z+=1;return z-J}function y2(q,J){let z=J;while(z<q.length&&(S(q[z])||q[z]==="."))z+=1;return q.substring(J,z)}var _=new j("empty","");function _2(q){let J=[],z=0;while(z<q.length){let V=q[z],Z;switch(V){case"_":case"^":case"&":Z=new G(6,V),z++;break;case`
`:Z=new G(7,V),z++;break;case"\r":{if(z+1<q.length&&q[z+1]===`
`)Z=new G(7,`
`),z+=2;else Z=new G(7,`
`),z++;break}case" ":{let X=z;while(X<q.length&&q[X]===" ")X++;Z=new G(4,q.substring(z,X)),z=X;break}case"/":{if(z<q.length&&q[z+1]==="/"){let X=z+2;while(X<q.length&&q[X]!==`
`)X++;Z=new G(3,q.slice(z+2,X)),z=X}else Z=new G(1,"/"),z++;break}case"\\":{if(z+1>=q.length)throw new Error("Expecting a character after \\");let X=q.substring(z,z+2);if(["\\$","\\&","\\#","\\_"].includes(X))Z=new G(1,X),z+=2;else if(["\\\n","\\ "].includes(X))Z=new G(6,"\\"),z+=1;else Z=new G(6,""),z++;break}case'"':{let X=z+1;while(X<q.length){if(q[X]==='"'&&q[X-1]!=="\\")break;X++}let $=q.substring(z+1,X),K=['"',"\\"];for(let D of K)$=$.replaceAll("\\"+D,D);Z=new G(2,$),z=X+1;break}default:{if(C(V)){let X=z;while(X<q.length&&C(q[X]))X+=1;if(X<q.length&&q[X]==="."){X+=1;while(X<q.length&&C(q[X]))X+=1}Z=new G(1,q.slice(z,X))}else if("+-*/='<>!.,;?()[]|".includes(V))Z=new G(1,V);else if(S(V)){let X=y2(q,z),$=X.length===1?1:0;Z=new G($,X)}else Z=new G(1,V);z+=Z.value.length}}J.push(Z)}return J}function y(q,J){Y(q[J].isOneOf([N,F2,U2]));let z=1,V=J+1;while(z>0){if(V>=q.length)throw new Error("Unmatched brackets");if(q[V].isOneOf([N,F2,U2]))z+=1;else if(q[V].isOneOf([T2,p2,r2]))z-=1;V+=1}return V-1}function d2(q,J){let z=new j("atom","("),V=new j("atom",")");Y(q[J].eq(z));let Z=1,X=J+1;while(Z>0){if(X>=q.length)throw new Error("Unmatched brackets");if(q[X].eq(z))Z+=1;else if(q[X].eq(V))Z-=1;X+=1}return X-1}function K2(q){let J=[];for(let z=0;z<q;z++)J.push(new j("atom","'"));return J}var d=new j("atom","/");function a2(q,J){let z=J;while(z<q.length&&q[z].type==="whitespace")z++;return z===q.length?_:q[z]}function k2(q){let J=!1,z=[];for(let V=0;V<q.length;V++){let Z=q[V];if(Z.type==="whitespace"){if(J)continue;if(a2(q,V+1).eq(d))continue}if(Z.eq(d))J=!0;else J=!1;z.push(Z)}return z}function e(q,J=!1){q=k2(q);let z=new j("atom","("),V=new j("atom",")"),Z=[],X=[],$=0;while($<q.length){let K=q[$];if(K.eq(V))throw new b("Unexpected ')'");else if(K.eq(d))Z.push(K),$++;else{let D;if(K.eq(z)){let O=d2(q,$);D=e(q.slice($+1,O),!0),$=O+1}else D=K,$++;if(Z.length>0&&Z[Z.length-1].eq(d)){let O=D;if(X.length===0)throw new b("Unexpected '/' operator, no numerator before it");let U=X.pop();if(O.type==="group"&&O.content==="parenthesis")O.content="";if(U.type==="group"&&U.content==="parenthesis")U.content="";X.push(new j("fraction","",[U,O])),Z.pop()}else X.push(D)}}if(J)return new j("group","parenthesis",X);else if(X.length===0)return _;else if(X.length===1)return X[0];else return new j("group","",X)}class b extends Error{constructor(q){super(q);this.name="TypstParserError"}}var G2=new G(6,"_"),D2=new G(6,"^"),N=new G(1,"("),T2=new G(1,")"),F2=new G(1,"["),p2=new G(1,"]"),U2=new G(1,"{"),r2=new G(1,"}"),n2=new G(1,","),s2=new G(1,";"),t2=new G(4," ");class H2{space_sensitive;newline_sensitive;constructor(q=!0,J=!0){this.space_sensitive=q,this.newline_sensitive=J}parse(q){let[J,z]=this.parseGroup(q,0,q.length);return J}parseGroup(q,J,z,V=!1){let Z=[],X=J;while(X<z){let[K,D]=this.parseNextExpr(q,X);if(X=D,K.type==="whitespace"){if(!this.space_sensitive&&K.content.replace(/ /g,"").length===0)continue;if(!this.newline_sensitive&&K.content===`
`)continue}Z.push(K)}let $;if(V)$=e(Z,!0);else if(Z.length===0)$=_;else if(Z.length===1)$=Z[0];else $=e(Z);return[$,z+1]}parseNextExpr(q,J){let[z,V]=this.parseNextExprWithoutSupSub(q,J),Z=null,X=null,$=W2(q,V);if($>0)z=new j("group","",[z].concat(K2($))),V+=$;if(V<q.length&&q[V].eq(G2)){if([Z,V]=this.parseSupOrSub(q,V+1),V<q.length&&q[V].eq(D2))[X,V]=this.parseSupOrSub(q,V+1)}else if(V<q.length&&q[V].eq(D2)){if([X,V]=this.parseSupOrSub(q,V+1),V<q.length&&q[V].eq(G2))[Z,V]=this.parseSupOrSub(q,V+1)}if(Z!==null||X!==null){let K={base:z};if(Z)K.sub=Z;if(X)K.sup=X;return[new j("supsub","",[],K),V]}else return[z,V]}parseSupOrSub(q,J){let z,V;if(q[J].eq(N)){let X=y(q,J);[z,V]=this.parseGroup(q,J+1,X)}else[z,V]=this.parseNextExprWithoutSupSub(q,J);let Z=W2(q,V);if(Z>0)z=new j("group","",[z].concat(K2(Z))),V+=Z;return[z,V]}parseNextExprWithoutSupSub(q,J){let z=q[J],V=z.toNode();if(z.eq(N)){let Z=y(q,J);return this.parseGroup(q,J+1,Z,!0)}if(z.type===1&&!S(z.value[0]))return[V,J+1];if([1,0].includes(z.type)){if(J+1<q.length&&q[J+1].eq(N)){if(z.value==="mat"){let[K,D,O]=this.parseGroupsOfArguments(q,J+1),U=new j("matrix","",[],K);return U.setOptions(D),[U,O]}let[Z,X]=this.parseArguments(q,J+1),$=new j("funcCall",z.value);return $.args=Z,[$,X]}}return[V,J+1]}parseArguments(q,J){let z=y(q,J);return[this.parseCommaSeparatedArguments(q,J+1,z),z+1]}parseGroupsOfArguments(q,J){let z=y(q,J);q=q.slice(0,z);let V=[],Z={},X=J+1;while(X<z)while(X<z){let O=function(U){let L=new j("atom",":"),v={},g=[];for(let A=0;A<U.length;A++){if(U[A].type!=="group")continue;let M=U[A],R=a(M.args,L);if(R===-1||R===0)continue;if(g.push(A),M.args[R-1].eq(new j("symbol","delim")))if(M.args[R+1].type==="text"){if(v.delim=M.args[R+1].content,M.args.length!==3)throw new b("Invalid number of arguments for delim")}else if(M.args[R+1].eq(new j("atom","#"))){if(M.args.length!==4||!M.args[R+2].eq(new j("symbol","none")))throw new b("Invalid number of arguments for delim");v.delim="#none"}else throw new b("Not implemented for other types of delim");else throw new b("Not implemented for other named parameters")}for(let A=g.length-1;A>=0;A--)U.splice(g[A],1);return[U,v]},$=a(q,s2,X);if($===-1)$=z;let K=this.parseCommaSeparatedArguments(q,X,$),D={};[K,D]=O(K),V.push(K),Object.assign(Z,D),X=$+1}return[V,Z,z+1]}parseCommaSeparatedArguments(q,J,z){let V=[],Z=J;while(Z<z){let X=new j("group","",[]);while(Z<z){if(q[Z].eq(n2)){Z+=1;break}else if(q[Z].eq(t2)){Z+=1;continue}let[$,K]=this.parseNextExpr(q,Z);Z=K,X.args.push($)}if(X.args.length===0)X=_;else if(X.args.length===1)X=X.args[0];V.push(X)}return V}}function O2(q){let J=new H2,z=_2(q);return J.parse(z)}class q2{buffer="";queue=[];writeBuffer(q){let J=q.toString(),z=!1;if(q.type===4)z=!0;else z||=/[{\(\[\|]$/.test(this.buffer),z||=/\\\w+$/.test(this.buffer)&&J==="[",z||=/^[\.,;:!\?\(\)\]{}_^]$/.test(J),z||=["\\{","\\}"].includes(J),z||=J==="'",z||=this.buffer.endsWith("_")||this.buffer.endsWith("^"),z||=/\s$/.test(this.buffer),z||=/^\s/.test(J),z||=this.buffer==="",z||=/[\(\[{]\s*(-|\+)$/.test(this.buffer)||this.buffer==="-"||this.buffer==="+",z||=this.buffer.endsWith("&")&&J==="=";if(!z)this.buffer+=" ";this.buffer+=J}append(q){let J=new Q("control","&"),z=new Q("control","\\\\");if(q.type==="ordgroup"&&m(q.args,J)){let V=k(q.args,z),Z=[];for(let X of V){let $=k(X,J);Z.push($.map((K)=>new Q("ordgroup","",K)))}q=new Q("beginend","aligned",[],Z)}this.queue=this.queue.concat(q.serialize())}flushQueue(){for(let q=0;q<this.queue.length;q++)this.writeBuffer(this.queue[q]);this.queue=[]}finalize(){return this.flushQueue(),this.buffer}}function Y2(q,J){let z={nonStrict:!0,preferTypstIntrinsic:!0,keepSpaces:!1,fracToSlash:!0,customTexMacros:{}};if(J){if(J.nonStrict)z.nonStrict=J.nonStrict;if(J.preferTypstIntrinsic)z.preferTypstIntrinsic=J.preferTypstIntrinsic;if(J.customTexMacros)z.customTexMacros=J.customTexMacros;if(J.fracToSlash!==void 0)z.fracToSlash=J.fracToSlash}let V=Z2(q,z.customTexMacros),Z=H(V,z),X=new o(z.nonStrict,z.preferTypstIntrinsic,z.keepSpaces);return X.serialize(Z),X.finalize()}function B2(q){let J=O2(q),z=B(J),V=new q2;return V.append(z),V.finalize()}if(typeof window!=="undefined")window.tex2typst=Y2,window.typst2tex=B2;
